<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: solitaire_state.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: solitaire_state.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const createDeck = require('../cards');

/**
 * Moves cards from the {deck} to an array of tableau piles
 * which the function returns. These piles are based on the structure
 * of a game of solitaire.
 *
 * @param {object} deck   The deck to alter
 */
function createTableaus(deck) {

  let tableaus = [];

  for (let i = 0; i &lt; deck.length; i++) {
    deck[i].hidden = false;
  }


  for (let i = 0; i &lt; 7; i++) {
    tableaus[i] = tableau(deck, i + 1);
  }

  return tableaus;
}

/**
 * An helper function of the createTableaus, which
 * creates a single tableau pile with the number of
 * cards in the pile being determined by {number_of_cards}
 *
 * @param {object}  deck              The deck to alter
 * @param {Integer} number_of_cards   The no. of cards in the pile
 */
function tableau(deck, number_of_cards) {

  let tableau = [];

  for (let i = 0; i &lt; number_of_cards; i++) {

    if (i != 0) deck[0].hidden = true;

    tableau.push(deck[0]);
    deck.splice(0, 1);
  }

  return tableau;
}

/**
 * Creates an initial random solitaire state, and returns it through
 * an callback function.
 *
 * @param {function} callback A callback in the form (state) =>
 */
function init(callback) {

  const s_pile = createDeck(1);

  for (let card of s_pile) {
    card.hidden = false;
  }

  const t_pile = createTableaus(s_pile);
  const f_pile = [
    [],
    [],
    [],
    []
  ];
  const state = {
    s_pile,
    t_pile,
    f_pile
  };

  callback(state);
}

// ==== The export module ====
module.exports = init;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#canMoveTableau">canMoveTableau</a></li><li><a href="global.html#createTableaus">createTableaus</a></li><li><a href="global.html#deepCopy">deepCopy</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#isCorrectPlacementFoundation">isCorrectPlacementFoundation</a></li><li><a href="global.html#isCorrectPlacementTableau">isCorrectPlacementTableau</a></li><li><a href="global.html#movePile">movePile</a></li><li><a href="global.html#pushCards">pushCards</a></li><li><a href="global.html#removeCardFoundation">removeCardFoundation</a></li><li><a href="global.html#removeCards">removeCards</a></li><li><a href="global.html#removeCardsTableau">removeCardsTableau</a></li><li><a href="global.html#removeCardStockpile">removeCardStockpile</a></li><li><a href="global.html#ruleset">ruleset</a></li><li><a href="global.html#tableau">tableau</a></li><li><a href="global.html#verifyEndState">verifyEndState</a></li><li><a href="global.html#verifyFromFoundation">verifyFromFoundation</a></li><li><a href="global.html#verifyFromStockpile">verifyFromStockpile</a></li><li><a href="global.html#verifyFromTableau">verifyFromTableau</a></li><li><a href="global.html#verifyMovePile">verifyMovePile</a></li><li><a href="global.html#verifyToFoundation">verifyToFoundation</a></li><li><a href="global.html#verifyToTableau">verifyToTableau</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Tue May 05 2020 14:19:50 GMT+0200 (Centraleurop√¶isk sommertid)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
