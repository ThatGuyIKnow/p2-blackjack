<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: games/cards.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: games/cards.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// The different ranks and suits a card can have.
const ranks = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13];
const suits = ["spades", "hearts", "clubs", "diamonds"];

/**
 * Creates a deck, which is an array of card objects. This deck contains
 * {number_of_decks} amount of single decks, and {number_of_jokers} amount
 * of jokers.
 * @param {Integer} number_of_decks  The amounts of single decks in the deck
 * @param {Integer} number_of_jokers The amount of jokers in the deck
 */
function buildDeck(number_of_decks, number_of_jokers) {

  let deck = [];
  let ID = 1;
  let card;

  for (let i = 0; i &lt; suits.length; i++) {

    for (let j = 0; j &lt; ranks.length * number_of_decks; j++) {

      card = {
        suit: suits[i % 4],
        rank: ranks[j % 13],
        id: ID++,
        isJoker: false,
        hidden: true
      };
      deck.push(card);
    }
  }
  // Get the last id to start of the joker id count
  let last_id = deck[deck.length - 1].id + 1;

  // Construct jokers
  for (let i = 0; i &lt; number_of_jokers; i++) {

    card = {
      suit: 0,
      rank: 0,
      id: last_id++,
      isJoker: true,
      hidden: true
    };
    deck.push(card);
  }

  return deck;
}

/**
 * A function which shuffles a deck using the Fisher-Yates algorithm.
 * @param {Array} deck The deck to be shuffled
 */
function shuffleDeck(deck) {

  let deck_size = deck.length;
  let temp;

  // While there remain elements to shuffle
  while (deck_size) {

    // Pick a remaining elements
    let random_card = randomNumber(deck_size--);

    // And swap it with the current element
    temp = deck[deck_size];
    deck[deck_size] = deck[random_card];
    deck[random_card] = temp;
  }

  return deck;
}

/**
 * Helper function which generates a random positive integer up to {size}.
 * Returns said integer.
 * @param {Integer} size The maximum size of the number
 */
function randomNumber(size) {
  return Math.floor(Math.random() * size);
}

/**
 * Returns a shuffled deck of {number_of_decks} size, with
 * {number_of_jokers} jokers.
 * @param {Integer} number_of_decks The amounts of single decks in the deck
 * @param {Integer} number_of_jokers The amount of jokers in the deck
 */
module.exports = function createDeck(number_of_decks, number_of_jokers) {

  let deck = buildDeck(number_of_decks, number_of_jokers);
  shuffleDeck(deck);

  return deck;
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#accessRoom">accessRoom</a></li><li><a href="global.html#addHandlers">addHandlers</a></li><li><a href="global.html#buildDeck">buildDeck</a></li><li><a href="global.html#canMoveTableau">canMoveTableau</a></li><li><a href="global.html#createCard">createCard</a></li><li><a href="global.html#createTableaus">createTableaus</a></li><li><a href="global.html#deepCopy">deepCopy</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#isCorrectPlacementFoundation">isCorrectPlacementFoundation</a></li><li><a href="global.html#isCorrectPlacementTableau">isCorrectPlacementTableau</a></li><li><a href="global.html#movePile">movePile</a></li><li><a href="global.html#playerAction">playerAction</a></li><li><a href="global.html#pushCards">pushCards</a></li><li><a href="global.html#randomNumber">randomNumber</a></li><li><a href="global.html#removeCardFoundation">removeCardFoundation</a></li><li><a href="global.html#removeCards">removeCards</a></li><li><a href="global.html#removeCardsTableau">removeCardsTableau</a></li><li><a href="global.html#removeCardStockpile">removeCardStockpile</a></li><li><a href="global.html#render">render</a></li><li><a href="global.html#renderFoundation">renderFoundation</a></li><li><a href="global.html#renderStockpile">renderStockpile</a></li><li><a href="global.html#renderTableau">renderTableau</a></li><li><a href="global.html#ruleset">ruleset</a></li><li><a href="global.html#shuffleDeck">shuffleDeck</a></li><li><a href="global.html#tableau">tableau</a></li><li><a href="global.html#verifyEndState">verifyEndState</a></li><li><a href="global.html#verifyFromFoundation">verifyFromFoundation</a></li><li><a href="global.html#verifyFromStockpile">verifyFromStockpile</a></li><li><a href="global.html#verifyFromTableau">verifyFromTableau</a></li><li><a href="global.html#verifyMovePile">verifyMovePile</a></li><li><a href="global.html#verifyToFoundation">verifyToFoundation</a></li><li><a href="global.html#verifyToTableau">verifyToTableau</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Tue May 12 2020 10:35:15 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
